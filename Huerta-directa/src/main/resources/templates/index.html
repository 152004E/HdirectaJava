<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Huerta directa</title>
    <link rel="stylesheet" href="/css/darkindex.css" />
    <link rel="stylesheet" href="/css/stylePrincipal.css" />
    <link rel="stylesheet" href="/css/IA.css" />
    

    <link rel="icon" type="image/png" href="/images/logo_huerta.png" />
    <!--link para el slider y css del slider-->
    
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    />

    <link rel="stylesheet" href="/css/slider.css" />

     <link href="/CSS/output.css" rel="stylesheet" />
    <!--agregacion para los iconos-->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <!--  Animacion al hacer scroll -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
    <!-- Link para el font -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/icon?family=Material+Symbols+Outlined"
    />
    <!--Google icons-->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"
    />
  </head>

  <body class="">
    
    
  <header class="bg-gradient-to-b from-[#fef5dc] via-[#fef5dc] to-white flex items-center min-h-[70vh] ">
    <div class=" my-0 !mx-auto max-w-[1200px] absolute top-0 left-0 right-0 flex items-center justify-between px-8 py-4">
      
      <!-- Logo -->
      <a href="#" class="logo text-[#8dc84b] text-[25px] font-semibold uppercase transition-colors duration-500 hover:text-[#028602]">
        Huerta directa
      </a>
      
      <!-- Checkbox para menu m√≥vil -->
      <input type="checkbox" id="menu" class="hidden peer" />
      
      <!-- Icono del men√∫ m√≥vil -->
      <label for="menu" class="cursor-pointer hidden lg:hidden">
        <img src="images/menu.png" class="w-[25px]" alt="menu" />
      </label>
      
      <!-- Navbar -->
      <nav class="navbar bg-[#fff5dc] hidden peer-checked:block peer-checked:absolute peer-checked:top-full peer-checked:left-0 peer-checked:right-0 peer-checked:bg-[#333128] peer-checked:pl-[50px] lg:block lg:relative lg:bg-transparent lg:pl-0">
        <ul class="nav-menu list-none flex flex-col lg:flex-row justify-center gap-4 lg:gap-10 m-0 p-2 lg:p-0">
          
          <!-- Dropdown: Log in -->
          <li class="dropdown relative">
            <a href="" class="no-underline text-[#222] peer-checked:text-white font-semibold text-base py-2.5 px-4 transition-colors duration-300 hover:text-[#7bbf45]">
              Log in ‚ñæ
            </a>
            <ul class="dropdown-menu">
              <li class="p-0">
                <a th:href="@{/actualizacionUsuario}" class="block py-3 px-5 text-[#333] text-[15px] transition-all duration-300 hover:bg-[#f2fbd7] hover:text-[#7bbf45] hover:border-l-4 hover:border-[#7bbf45]">
                  üì≤ Mi Perfil
                </a>
              </li>
              <li class="p-0">
                <a th:href="@{/login}" class="block py-3 px-5 text-[#333] text-[15px] transition-all duration-300 hover:bg-[#f2fbd7] hover:text-[#7bbf45] hover:border-l-4 hover:border-[#7bbf45]">
                  üì≤ Iniciar Sesion
                </a>
              </li>
              <li class="p-0">
                <a th:href="@{/home}" class="block py-3 px-5 text-[#333] text-[15px] transition-all duration-300 hover:bg-[#f2fbd7] hover:text-[#7bbf45] hover:border-l-4 hover:border-[#7bbf45]">
                  üì≤ Dashboard
                </a>
              </li>
            </ul>
          </li>
          
          
          <!-- Categorias -->
          <li>
            <a href="#categorias" class="no-underline text-[#222] peer-checked:text-white font-semibold text-base py-2.5 px-4 transition-colors duration-300 hover:text-[#7bbf45]">
              Categorias
            </a>
          </li>
          <!-- Productos -->
          <li>
            <a href="#lista-1" class="no-underline text-[#222] peer-checked:text-white font-semibold text-base py-2.5 px-4 transition-colors duration-300 hover:text-[#7bbf45]">
              Productos
            </a>
          </li>
          
          <!-- Dropdown: Conocenos -->
          <li class="dropdown relative">
            <a href="" class="no-underline text-[#222] peer-checked:text-white font-semibold text-base py-2.5 px-4 transition-colors duration-300 hover:text-[#7bbf45]">
              Conocenos ‚ñæ
            </a>
            <ul class="dropdown-menu">
              <li class="p-0">
                <a th:href="@{/landing}" class="block py-3 px-5 text-[#333] text-[15px] transition-all duration-300 hover:bg-[#f2fbd7] hover:text-[#7bbf45] hover:border-l-4 hover:border-[#7bbf45]">
                  üîó Unete
                </a>
              </li>
              <li class="p-0">
                <a th:href="@{/Quienes_somos}" class="block py-3 px-5 text-[#333] text-[15px] transition-all duration-300 hover:bg-[#f2fbd7] hover:text-[#7bbf45] hover:border-l-4 hover:border-[#7bbf45]">
                  üîé Quienes somos
                </a>
              </li>
              <li class="p-0">
                <a th:href="@{/error500}" class="block py-3 px-5 text-[#333] text-[15px] transition-all duration-300 hover:bg-[#f2fbd7] hover:text-[#7bbf45] hover:border-l-4 hover:border-[#7bbf45]">
                  üéõÔ∏è Contactanos
                </a>
              </li>
            </ul>
          </li>
          
          
        </ul>
      </nav>
      
      <!-- Bot√≥n Agregar Producto -->
      <div class="agragar_producto">
        <a class="btn-2 inline-block mt-0 py-2.5 px-5 text-white bg-[#8dc84b] rounded-[5px] no-underline transition-all duration-500" th:href="@{/agregar_producto}">
          Agregar<br />Producto
        </a>
      </div>
      
      <!-- Carrito (Fragment - NO TOCAR) -->
      <div th:replace="fragments/carritoProducto :: carritoProducto"></div>
    </div>
    
    <!-- Header Content (Fragment - NO TOCAR) -->
    <div th:replace="fragments/filesIndex/header-context :: header-content"></div>
  </header>
    <section th:replace="fragments/filesIndex/informacion :: information"></section>

    <section th:replace="fragments/filesIndex/oferts :: ofertas"></section>
    <section th:replace="fragments/filesIndex/slider-section :: slider-section"></section>

    <main class="products container1" id="lista-1">
      <h2 data-aos="zoom-in">Productos destacados</h2>

      <!--Aca se hace el each para que itere todos los pruductos-->

      <div class="products-container">
        <!-- Producto 1 -->
        <div
          th:each="producto : ${productos}"
          data-aos="zoom-in"
          data-aos-delay="100"
        >
          <div class="product">
            <span class="material-symbols-outlined IconProducto">
              favorite
            </span>

            <img
              th:src="@{'/images/productos/' + ${producto.imageProduct}}"
              alt="Imagen de [[${producto.nameProduct}]]"
              width="150"
            />
            <div class="borderImgNombre"></div>

            <div class="product-txt">
              <h3 th:text="${producto.nameProduct}"></h3>
              <div class="ContainerNombreIcon">
                <div class="precioPais">
                  <p
                    class="precio"
                    th:text="${#numbers.formatDecimal(producto.price, 0, 'COMMA', 0, 'POINT')}"
                  ></p>
                  <p class="PaisMoneda">/ COP</p>
                </div>
                <div class="hijoContainerNombreIcon">
                  <span class="material-symbols-outlined start"> star </span>
                  <p class="puntuacion">
                    <span class="calificacion">4.5</span> (40)
                  </p>
                </div>
              </div>

              <div class="btnProducto">
                <a href="#" class="agregar-carrito btn-2 botonIcono"
                  ><span class="material-symbols-outlined iconAgregar">
                    add_shopping_cart
                  </span>
                  Agregar</a
                >
                <a
                  th:href="@{/producto/{id}(id=${producto.idProduct})}"
                  class="btn-2 botonIcono btnInfo"
                  onclick="window.location=this.href; return false;"
                >
                  Info
                  <span class="material-symbols-outlined infoIcon">info</span>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!--Ctegorias-->
    <section class="categories" id="categorias">
      <div class="container container1 categories__container">
        <div class="categories__left">
          <h1 data-aos="fade-right">Categorias</h1>
          <p data-aos="fade-right" data-aos-delay="200">
            Los productos de mejor calidad y mas frecos del mercado, de la
            granja a tu mesa. Explora tu producto favorito en la cateogoria
            indicada, y descubre los maravillosos precios que maneja el campo
            para tu bolsillo.
          </p>
          <a href="#" class="btn-2" data-aos="fade-right" data-aos-delay="400"
            >Saber m√°s</a
          >
        </div>

        <div class="categories__right">
          <!--primer categoria de productos-->

          <a th:href="@{/Frutas}">
            <article class="category" data-aos="zoom-in" data-aos-delay="100">
              <span class="category__icon green2"
                ><i class="fa-solid fa-apple-whole"></i
              ></span>
              <h5>Frutas</h5>
            </article>
          </a>
          <!--Segunda categoria de productos-->

          <a th:href="@{/VerdurasYHortalizas}">
            <article class="category" data-aos="zoom-in" data-aos-delay="200">
              <span class="category__icon green"
                ><i class="fa-solid fa-carrot"></i
              ></span>
              <h5>Verduras Y hortalizas</h5>
            </article>
          </a>

          <!--tercera categoria de productos-->

          <a th:href="@{/Lacteos}">
            <article class="category" data-aos="zoom-in" data-aos-delay="300">
              <span class="category__icon green2"
                ><i class="fa-solid fa-cow"></i
              ></span>
              <h5>Lacteos</h5>
            </article>
          </a>
          <!--Cuarta categoria de productos-->

          <a th:href="@{/CarnesYl}">
            <article class="category" data-aos="zoom-in" data-aos-delay="100">
              <span class="category__icon green"
                ><i class="fa-solid fa-drumstick-bite"></i
              ></span>
              <h5>Carnes y Proteinas</h5>
            </article>
          </a>
          <!--Quinto categoria de productos-->

          <a th:href="@{/Cereales}">
            <article class="category" data-aos="zoom-in" data-aos-delay="200">
              <span class="category__icon green2"
                ><i class="fa-solid fa-bowl-food"></i
              ></span>
              <h5>Cereales y granos</h5>
            </article>
          </a>
          <!--Sexta categoria de productos-->

          <a th:href="@{/Organicos}">
            <article class="category" data-aos="zoom-in" data-aos-delay="300">
              <span class="category__icon green"
                ><i class="fa-solid fa-cookie"></i
              ></span>
              <h5>Productos organicos</h5>
            </article>
          </a>
          <!--Setmima categoria de productos-->

          <a th:href="@{/MielYDerivados}">
            <article class="category" data-aos="zoom-in" data-aos-delay="100">
              <span class="category__icon green2"
                ><i class="fa-solid fa-plate-wheat"></i
              ></span>
              <h5>Miel y derivados</h5>
            </article>
          </a>
          <!--Octava categoria de productos-->

          <a th:href="@{/BebidasNaturales}">
            <article class="category" data-aos="zoom-in" data-aos-delay="200">
              <span class="category__icon green"
                ><i class="fa-solid fa-glass-water"></i
              ></span>
              <h5>Bebidas naturales</h5>
            </article>
          </a>

          <!--Novena categoria de productos-->

          <a th:href="@{/CajasMixtas}">
            <article class="category" data-aos="zoom-in" data-aos-delay="300">
              <span class="category__icon green2"
                ><i class="fa-solid fa-box-open"></i
              ></span>
              <h5>Cajas mixtas o combos</h5>
            </article>
          </a>
        </div>
      </div>
    </section>
    <div class="flex items-center justify-center w-full bg-[#8bc34a]">

      <div th:replace="fragments/footer :: footer"></div>
    </div>
    <div class="floating-chat-button" id="openChatBtn">
      <span class="emoji">ü§ñ</span>
      <span class="text">Chat con IA</span>
    </div>

    <div class="chat-modal-overlay" id="chatModalOverlay">
      <div class="chat-modal-content" id="chatModalContent">
        <div class="chat-container">
          <div class="chat-header">
            <div class="header-left">
              <div class="bot-avatar">ü§ñ</div>
              <div class="header-info">
                <h1>Asistente Huerta</h1>
                <p>Powered by Groq</p>
              </div>
            </div>
            <div class="user-info">
              <span
                class="user-name"
                th:text="${username} ? ${username} : 'Admin'"
                >Usuario</span
              >
              <button class="btn-settings" id="btnSettings">‚öôÔ∏è</button>
              <button
                class="btn-settings"
                id="btnCloseModal"
                style="margin-left: 10px"
              >
                ‚ùå
              </button>
            </div>
          </div>

          <div class="settings-panel" id="settingsPanel">
            <div class="setting-item">
              <label for="apiKeyInput">Groq API Key</label>
              <input
                type="password"
                id="apiKeyInput"
                placeholder="Ingresa tu clave aqu√≠"
              />
            </div>
            <button id="btnSaveKey" class="btn-save">
              Guardar Configuraci√≥n
            </button>
          </div>

          <div class="messages-container" id="messagesContainer">
            <div class="messages-wrapper" id="messagesWrapper">
              <div class="welcome-screen" id="welcomeScreen">
                <span class="material-symbols-outlined emoji-large">üëã</span>
                <h2>¬°Hola! Soy Huerta-IA</h2>
                <small>Recuerda configurar tu Groq API Key en ‚öôÔ∏è</small>
              </div>
            </div>
          </div>

          <div class="input-area">
            <div class="input-wrapper">
              <textarea
                id="messageInput"
                placeholder="Escribe tu mensaje..."
                rows="1"
              ></textarea>
              <button id="btnSend">
                <span class="material-symbols-outlined">üì§</span>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="/JS/chat-ia.js"></script>
 
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script src="/JS/script.js"></script>
    <!-- scrit para animaciones al scrollear -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
      AOS.init({
        duration: 1000, // duraci√≥n en ms
        offset: 100, // cu√°ndo se empieza a activar
        once: true, // solo una vez por scroll
      });
    </script>
  </body>
</html>
