<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    />
    <link rel="stylesheet" href="/CSS/styleLogIn.css" />
    <title>Recuperar Contraseña - Huerta Directa</title>
    <link rel="icon" type="image/png" href="/images/logo_huerta.png" />

    <!--Google icons-->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&display=swap"
    />
</head>

<body>
    <!-- Mensaje de éxito -->
    <div th:if="${success}" class="alert alert-warning alert-session"
         style="
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
            border-radius: 8px;
            padding: 15px 20px;
            margin: 10px;
            z-index: 9999;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            font-size: 14px;
            text-align: center;
            max-width: 500px;
            width: 90%;
         ">
        <span class="material-symbols-outlined" style="vertical-align: middle; margin-right: 8px;">check_circle</span>
        <strong th:text="${success}"></strong>
        <button onclick="this.parentElement.style.display='none'"
                style="
                    background: none;
                    border: none;
                    font-size: 18px;
                    cursor: pointer;
                    float: right;
                    margin-top: -5px;
                    color: #155724;
                ">×</button>
    </div>

    <!-- Mensaje de error -->
    <div th:if="${error}" class="alert alert-warning alert-session"
         style="
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
            border-radius: 8px;
            padding: 15px 20px;
            margin: 10px;
            z-index: 9999;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            font-size: 14px;
            text-align: center;
            max-width: 500px;
            width: 90%;
         ">
        <span class="material-symbols-outlined" style="vertical-align: middle; margin-right: 8px;">error</span>
        <strong th:text="${error}"></strong>
        <button onclick="this.parentElement.style.display='none'"
                style="
                    background: none;
                    border: none;
                    font-size: 18px;
                    cursor: pointer;
                    float: right;
                    margin-top: -5px;
                    color: #721c24;
                ">×</button>
    </div>

    <div class="container" id="container">
        <div class="form-container sign-in" style="left: 0; width: 50%; z-index: 2;">
            <!-- Formulario de recuperación -->
            <form th:action="@{/forgot-password}" th:method="post">
                <h1 class="iniciar_sesion">Recuperar Contraseña</h1>

                <img src="/images/logo.png" alt="logo" width="100" />


                <div class="from-group">
                    <label>Ingrese su correo electrónico</label>
                    <div class="ContainerIcons">
                        <div class="icons">
                            <span class="material-symbols-outlined">mail</span>
                        </div>
                        <input
                            type="email"
                            name="email"
                            placeholder="Ej: tunombre@correo.com"
                            required
                        />
                    </div>
                </div>

                <button type="submit" class="btn-1">Enviar enlace de recuperación</button>
                <a class="forget" href="/login">Volver al inicio de sesión</a>
            </form>
        </div>

        <div class="toggle-container">
            <div class="toggle">
                <div class="toggle-panel toggle-right">
                    <h1>¿Olvidaste tu contraseña?</h1>
                    <p>No te preocupes, es normal. Ingresa tu correo y te ayudaremos a recuperarla de forma segura.</p>
                    <div style="margin: 20px 0; text-align: left;">
                        <div style="display: flex; align-items: center; margin: 10px 0;">
                            <span class="material-symbols-outlined" style="margin-right: 10px; color: #fff;">mail</span>
                            <span style="font-size: 14px;">Te enviaremos un enlace seguro</span>
                        </div>
                        <div style="display: flex; align-items: center; margin: 10px 0;">
                            <span class="material-symbols-outlined" style="margin-right: 10px; color: #fff;">security</span>
                            <span style="font-size: 14px;">Proceso 100% seguro</span>
                        </div>
                        <div style="display: flex; align-items: center; margin: 10px 0;">
                            <span class="material-symbols-outlined" style="margin-right: 10px; color: #fff;">schedule</span>
                            <span style="font-size: 14px;">Recibirás el correo en minutos</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Auto-hide alerts after 5 seconds
        setTimeout(() => {
            const alerts = document.querySelectorAll('.alert');
            alerts.forEach(alert => {
                alert.style.opacity = '0';
                alert.style.transition = 'opacity 0.3s ease';
                setTimeout(() => alert.style.display = 'none', 300);
            });
        }, 5000);
    </script>
</body>
</html>
