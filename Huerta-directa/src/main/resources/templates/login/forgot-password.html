<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    />
    <link rel="stylesheet" href="/css/output.css" />
    <title>Recuperar Contraseña - Huerta Directa</title>
    <link rel="icon" type="image/png" href="/images/logo_huerta.png" />

    <!--Google icons-->
    <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&display=swap"
    />

    <style>
        /* Estilos mínimos para mantener la estructura del contenedor */
        .container-forgot {
            position: relative;
            overflow: hidden;
            width: 908px;
            max-width: 100%;
            min-height: 480px;
            height: 500px;
        }

        .form-container {
            position: absolute;
            top: 0;
            height: 100%;
        }

        .toggle-container {
            position: absolute;
            top: 0;
            left: 50%;
            width: 50%;
            height: 100%;
            overflow: hidden;
            border-radius: 150px 0 0 100px;
            z-index: 1000;
        }

        .toggle {
            background-color: #8dc84b;
            height: 100%;
            position: relative;
            left: -100%;
            width: 200%;
        }

        .toggle-panel {
            position: absolute;
            width: 50%;
            height: 100%;
            top: 0;
        }

        .toggle-right {
            right: 0;
        }

        .material-symbols-outlined {
            font-family: "Material Symbols Outlined" !important;
            font-weight: normal;
            font-style: normal;
            font-size: 24px !important;
            display: inline-block;
            line-height: 1;
            text-transform: none;
            letter-spacing: normal;
            word-wrap: normal;
            white-space: nowrap;
            direction: ltr;
            -webkit-font-smoothing: antialiased;
        }
        .forgot-link {
            color: black; /* rojo equivalente a text-red-400 */
            text-decoration: none;
            transition: color 0.15s ease;
        }
        .forgot-link:hover {
            color: #8dc84b; /* color al pasar el cursor */
        }
    </style>
</head>

<body
        class="bg-[#f7efd8] font-[Poppins] flex items-center justify-center flex-col min-h-screen"
>
<!-- Mensaje de éxito -->
<div
        th:if="${success}"
    class="fixed top-5 left-1/2 -translate-x-1/2 bg-[#d4edda] text-[#155724] border border-[#c3e6cb] rounded-lg p-[15px_20px] m-2.5 z-[9999] shadow-[0_4px_12px_rgba(0,0,0,0.15)] text-sm text-center max-w-[500px] w-[90%] transition-opacity duration-300"
>
    <span class="material-symbols-outlined align-middle mr-2">check_circle</span>
    <strong th:text="${success}"></strong>
    <button
        onclick="this.parentElement.style.display='none'"
        class="bg-transparent border-none text-lg cursor-pointer float-right -mt-1.5 text-[#155724]"
    >
        ×
    </button>
</div>

<!-- Mensaje de error -->
<div
    th:if="${error}"
    class="fixed top-5 left-1/2 -translate-x-1/2 bg-[#f8d7da] text-[#721c24] border border-[#f5c6cb] rounded-lg p-[15px_20px] m-2.5 z-[9999] shadow-[0_4px_12px_rgba(0,0,0,0.15)] text-sm text-center max-w-[500px] w-[90%] transition-opacity duration-300"
>
    <span class="material-symbols-outlined align-middle mr-2">error</span>
    <strong th:text="${error}"></strong>
    <button
        onclick="this.parentElement.style.display='none'"
        class="bg-transparent border-none text-lg cursor-pointer float-right -mt-1.5 text-[#721c24]"
    >
        ×
    </button>
</div>

<!-- CONTENEDOR PRINCIPAL -->
<div
    class="container-forgot bg-white rounded-[30px] shadow-[0_5px_15px_rgba(0,0,0,0.35)]"
    id="container"
>
    <!-- FORMULARIO DE RECUPERACIÓN -->
    <div class="form-container left-0 w-1/2 z-[2]">
        <form
            th:action="@{/api/login/forgot-password}"
            th:method="post"
            class="bg-white w-[400px] flex items-center justify-center flex-col px-10 h-full"
        >
            <h1 class="text-3xl font-bold mb-2">Recuperar Contraseña</h1>
            <img src="/images/logo.png" alt="logo" class="w-[100px] mb-2" />

            <!-- Correo electrónico -->
            <div class="w-full mb-4">
                <label class="text-sm font-normal mb-2.5 block">
                    Ingrese su correo electrónico
                </label>
                <div class="flex items-center min-w-[320px] relative">
                    <div class="absolute left-2">
                        <span class="material-symbols-outlined text-[#888] mt-1.5">mail</span>
                    </div>
                    <input
                        type="email"
                        name="email"
                        placeholder="Ej: tunombre@correo.com"
                        required
                        class="py-2.5 px-9 w-full my-1.5 border-2 border-[#8dc84b] rounded-[15px] outline-none text-base text-[#333128] transition-all focus:border-[#004d00] focus:shadow-[0_0_5px_rgba(0,77,0,0.5)]"
                    />
                </div>
            </div>

            <button
                type="submit"
                class="text-[17px] inline-block py-2 px-6 text-white bg-[#8dc84b] rounded-[15px] transition-all hover:bg-[#004d00] font-semibold uppercase text-xs tracking-wider"
            >
                Enviar enlace de recuperación
            </button>

            <a
                class="forgot-link text-[13px] mt-4 no-underline my-[15px_0_10px] font-light"
                href="/login"
            >
                Volver al inicio de sesión
            </a>
        </form>
    </div>

    <!-- PANEL INFORMATIVO VERDE -->
    <div class="toggle-container">
        <div class="toggle">
            <div class="toggle-panel toggle-right flex items-center justify-center flex-col px-[30px] text-center text-white">
                <h1 class="text-3xl font-bold mb-2">¿Olvidaste tu contraseña?</h1>
                <p class="text-[18px] leading-5 tracking-wide my-5">
                    No te preocupes, es normal. Ingresa tu correo y te ayudaremos a
                    recuperarla de forma segura.
                </p>
                <div class="my-5 text-left flex flex-col gap-3">
                    <div class="flex items-center my-2.5">
                        <span class="material-symbols-outlined mr-2.5 text-white">mail</span>
                        <span class="text-sm">Te enviaremos un enlace seguro</span>
                    </div>
                    <div class="flex items-center my-2.5">
                        <span class="material-symbols-outlined mr-2.5 text-white">security</span>
                        <span class="text-sm">Proceso 100% seguro</span>
                    </div>
                    <div class="flex items-center my-2.5">
                        <span class="material-symbols-outlined mr-2.5 text-white">schedule</span>
                        <span class="text-sm">Recibirás el correo en minutos</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>

